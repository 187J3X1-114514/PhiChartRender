<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <link href="./fonts/index.css" rel="stylesheet" />
        <style>
            html, body {
                padding: 0;
                margin: 0;
                overflow: hidden;
            }

            div.file-select {
                position: absolute;
                top: 0;
                left: 0;
                max-width: 100%;
                max-height: 100%;
                padding: 10px;
                color: #000;
                background-color: #FFF;
                border: 1px solid #999;
                overflow: auto;
                box-sizing: border-box;
            }

            button#fullscreen {
                position: absolute;
                top: 0;
                right: 0;
            }

            canvas#canvas {
                position: absolute;
                top: 0;
                left: 0;
            }

            div.error-window {
                display: none;
                position: absolute;
                top: 0;
                right: 0;
                max-width: 100%;
                max-height: 100%;
                padding: 8px;
                color: white;
                background-color: #F33;
                border: 1px solid #A00;
                box-sizing: border-box;
            }
            div.error-window a {
                color: #FFF;
            }
            div.error-window button.close {
                float: right;
            }
            div.error-window pre {
                margin-top: 8px;
                margin-bottom: 0;
                padding: 8px;
                background: #D60000;
                box-sizing: border-box;
                overflow-x: auto;
            }
            div.error-window pre,
            div.error-window pre * {
                font-family: Menlo, Monaco, 'Courier New', monospace !important;
            }

            div.watermark {
                position: absolute;
                right: 4px;
                bottom: 4px;
                color: white;
                font-size: 1vw;
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                -moz-user-select: none;
                user-select: none;
                pointer-events: none;
            }
            
            .font-loaded div.file-select,
            .font-loaded div.file-select *,
            .font-loaded div.error-window,
            .font-loaded div.error-window *,
            .font-loaded div.watermark {
                font-family: 'MiSans';
            }
            .font-loaded div.file-select a {
                font-family: 'A-OTF Shin Go Pr6N H';
                line-height: 20px;
            }
        </style>
    </head>
    <body>
        <canvas id="canvas"></canvas>
        <div class="watermark">github/MisaLiu/phi-chart-render {{CURRENT_HASH}}</div>
        <div class="file-select">
            <label>Select a *.zip/*.pez file: <input type="file" id="file-chart-pack" accept=".zip,.pez"></label><br>
            <div class="loading" id="file-read-progress">No chart pack file selected</div>
            <hr />
            <label>Chart: <input type="file" id="file-chart" /></label><br>
            <label>Music: <input type="file" id="file-music" /></label><br>
            <label>BG: <input type="file" id="file-bg" /></label>
            <hr />
            <div class="loading" id="loading-status">Loading scripts...</div>
            <hr />
            <label><input type="checkbox" id="settings-multi-note-hl" checked />Multiple note highlight</label><br>
            <label><input type="checkbox" id="settings-show-ap-status" checked />Show AP Status</label><br>
            <label>Note scale: <input type="range" id="settings-note-scale" min="0" max="4000" value="2000"></label><br>
            <label>Background dim: <input type="range" id="settings-bg-dim" min="0" max="1" step="0.01" value="0.5"></label><br>
            <hr />
            <label>Audio offset: <input type="number" id="settings-audio-offset" value="0" style="width:4em" />ms</label><br>
            <label>Speed: <input type="range" id="settings-audio-speed" min="0.25" max="1.75" step="0.25" value="1"></label><br>
            <hr />
            <label><input type="checkbox" id="settings-hitsound" checked />Hitsound</label><br>
            <label>Hitsound volume: <input type="range" id="settings-hitsound-volume" min="0" max="1" step="0.01" value="1"></label><br>
            <hr />
            <label><input type="checkbox" id="settings-autoplay" />AutoPlay</label><br>
            <label><input type="checkbox" id="settings-debug" />Debug</label><br>
            <hr />
            <button id="start">Start</button>
            <hr />
            Current git hash: {{CURRENT_HASH}}<br>
            GitHub homepage: <a href="https://github.com/MisaLiu/phi-chart-render" target="_blank">https://github.com/MisaLiu/phi-chart-render</a><br>
            Report bugs <a href="https://github.com/MisaLiu/phi-chart-render/issues/new/choose" target="_blank">Here</a>

            <button class="fullscreen" id="fullscreen">Fullscreen</button>
        </div>
        <div class="error-window">
            <div>An error has just occurred, if you're sure this is not caused by you, please <a href="https://github.com/MisaLiu/phi-chart-render/issues/new/choose" target="_blank">report it on GitHub</a>.<button class="close">Close</button></div>
            <pre><code class="content">Test Text Not A Real Error</code></pre>
        </div>
        <script src="./script.js?hash={{CURRENT_HASH}}"></script>
    </body>
</html>
